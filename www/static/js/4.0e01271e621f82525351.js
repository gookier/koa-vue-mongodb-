webpackJsonp([4],{"4PVc":function(e,r,t){"use strict";t.d(r,"b",function(){return n}),t.d(r,"a",function(){return s});var o=t("2Wsv"),n=function(e){return Object(o.a)("file/filesShow",e)},s=function(e){return Object(o.a)("file/delFile",e)}},B8a6:function(e,r){},"Cs+I":function(e,r,t){"use strict";var o=t("n26T"),n={data:function(){var e=this;return{id:"",addVisible:!1,orderform:{order_name:"",order_num:""},rules:{order_name:[{required:!0,message:this.$t("order.ordernamehoulder"),trigger:"blur"},{validator:function(r,t,o){0==/[\u4e00-\u9fa5_a-zA-Z0-9_]{2,16}/.test(t)?o(new Error(e.$t("order.orderreg"))):o()},trigger:"blur"}],order_num:[{required:!0,message:this.$t("order.quantityhoulder"),trigger:"blur"},{validator:function(r,t,o){0==/^[0-9]*$/.test(t)?o(new Error(e.$t("order.numreg"))):o()},trigger:"blur"}]}}},methods:{open:function(e){this.id=e,this.addVisible=!0},reset:function(){this.$refs.orderform.resetFields()},cancel:function(e){this.$refs.orderform.resetFields(),this.addVisible=!1},save:function(e){var r=this;this.$refs.orderform.validate(function(e){if(!e)return console.log("error submit!!"),!1;Object(o.c)({file_id:r.id,order_name:r.orderform.order_name,order_num:r.orderform.order_num}).then(function(e){e.result?(r.addVisible=!1,r.$message({showClose:!0,message:r.$t("order.addordersuccess"),type:"success"})):r.$message({showClose:!0,message:e.msg,type:"error"})})})}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-dialog",{attrs:{title:e.$t("order.add"),visible:e.addVisible,width:"446px"},on:{"update:visible":function(r){e.addVisible=r},close:function(r){return e.reset()}}},[t("div",{staticClass:"small_form shelfconfig_small"},[t("el-form",{ref:"orderform",attrs:{"label-width":"100px",rules:e.rules,model:e.orderform}},[t("el-form-item",{attrs:{label:e.$t("order.order_name"),prop:"order_name"}},[t("el-input",{model:{value:e.orderform.order_name,callback:function(r){e.$set(e.orderform,"order_name",r)},expression:"orderform.order_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("order.quantity"),prop:"order_num"}},[t("el-input",{model:{value:e.orderform.order_num,callback:function(r){e.$set(e.orderform,"order_num",r)},expression:"orderform.order_num"}})],1),e._v(" "),t("el-form-item",[t("el-button",{on:{click:function(r){return e.cancel(e.orderform)}}},[e._v(e._s(e.$t("common.cancel")))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.save(e.orderform)}}},[e._v(e._s(e.$t("common.save")))])],1)],1)],1)])],1)},staticRenderFns:[]};var i=t("VU/8")(n,s,!1,function(e){t("nRJr")},null,null);r.a=i.exports},NsM6:function(e,r){},O01g:function(e,r,t){"use strict";var o={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"file_search"},[t("div",{staticClass:"file_item_div"},[t("span",{staticClass:"file_item_name"},[e._v("文件名")]),e._v(" "),t("el-input",{attrs:{clearable:""},model:{value:e.show_name,callback:function(r){e.show_name=r},expression:"show_name"}})],1),e._v(" "),t("div",{staticClass:"file_item_div"},[t("span",{staticClass:"file_item_name"},[e._v("文件所属工单")]),e._v(" "),t("el-input",{attrs:{clearable:""},model:{value:e.order_code,callback:function(r){e.order_code=r},expression:"order_code"}})],1),e._v(" "),t("div",{staticClass:"file_item_div"},[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v(e._s(e.$t("common.search")))])],1)])},staticRenderFns:[]};var n=t("VU/8")({data:function(){return{show_name:"",order_code:""}},methods:{search:function(){this.$emit("search",this.show_name,this.order_code)}}},o,!1,function(e){t("B8a6")},null,null);r.a=n.exports},SzDa:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("4PVc"),n=t("O01g"),s=t("Cs+I"),i={components:{SearchFile:n.a,AddOrder:s.a},data:function(){return{feederList:[]}},mounted:function(){this.getFiles()},methods:{getFiles:function(e,r){var t=this;Object(o.b)({file_type:1,show_name:e,order_code:r}).then(function(e){e.result?t.feederList=e.data:t.$message({showClose:!0,message:e.msg,type:"error"})})},openAdd:function(e){this.$refs.addorder.open(e)},deleteFile:function(e){var r=this;this.$confirm(this.$t("order.deletetips"),this.$t("order.tips"),{confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then(function(){Object(o.a)({id:e}).then(function(e){e.result?(r.$message({showClose:!0,message:r.$t("common.deleteSuccess"),type:"success"}),r.getFiles()):r.$message({showClose:!0,message:e.msg,type:"error"})})})}}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("search-file",{on:{search:e.getFiles}}),e._v(" "),t("add-order",{ref:"addorder"}),e._v(" "),t("el-table",{attrs:{data:e.feederList,"header-cell-style":{background:"#DFEBF9",color:"#606266"},"empty-text":e.$t("common.nodata"),border:""}},[t("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"id",label:e.$t("order.feederid")}}),e._v(" "),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"upload_order_code",label:e.$t("order.order_name")}}),e._v(" "),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"show_name",label:e.$t("order.filename")}}),e._v(" "),t("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"upload_time",label:e.$t("order.uploadtime")}}),e._v(" "),t("el-table-column",{attrs:{label:e.$t("common.operation")},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.openAdd(r.row.id)}}},[e._v(e._s(e.$t("order.add")))]),e._v(" "),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.deleteFile(r.row.id)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1)},staticRenderFns:[]};var l=t("VU/8")(i,a,!1,function(e){t("NsM6")},null,null);r.default=l.exports},nRJr:function(e,r){}});
//# sourceMappingURL=4.0e01271e621f82525351.js.map