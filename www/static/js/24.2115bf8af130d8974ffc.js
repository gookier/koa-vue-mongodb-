webpackJsonp([24],{a3jo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"usersearch"},[r("div",{staticClass:"tracename"},[r("span",[e._v(e._s(e.$t("user.username")))])]),e._v(" "),r("div",[r("el-input",{attrs:{placeholder:e.searchholder,clearable:""},model:{value:e.select_user_name,callback:function(t){e.select_user_name=t},expression:"select_user_name"}})],1),e._v(" "),r("div",{staticClass:"date_input"},[r("span",{staticClass:"timespan"},[e._v(e._s(e.$t("user.timerange")))]),e._v(" "),r("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"daterange","range-separator":e.$t("user.to"),"start-placeholder":e.$t("user.startdate"),"end-placeholder":e.$t("user.enddate")},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),r("div",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v(e._s(e.$t("user.usertrace")))])],1)])},staticRenderFns:[]};var s=r("VU/8")({props:["searchholder"],data:function(){return{value1:[],select_user_name:""}},methods:{search:function(){this.$emit("getUserActionRecord",this.value1,this.select_user_name)}}},a,!1,function(e){r("kxiG")},"data-v-0c5a3d86",null).exports,o=r("uIN4"),l=r("pPmT"),n={components:{VTracesearch:s},data:function(){return{searchholder:this.$t("user.searchholder"),datas:{select_user_name:"",start_time:"",end_time:""},rank:1,user_log:[],shelf_log:[],warehouse_log:[]}},methods:{TabClick:function(e){this.rank=e},getUserActionRecord:function(e,t){var r=this;this.datas.select_user_name=t,e?(this.datas.start_time=e[0],this.datas.end_time=e[1]):(this.datas.start_time="",this.datas.end_time=""),Object(o.e)(this.datas).then(function(e){e.result?(r.user_log=e.user_log,r.shelf_log=e.shelf_log,r.warehouse_log=e.warehouse_log):r.$message({showClose:!0,message:e.msg,type:"error"})})},timeFormatter:function(e){return Object(l.g)(e.in_time,1)},storageFormatter:function(e){switch(e.op_code){case 1:return"条码枪上料";case 2:return"条码枪取料";case 3:return"异常取料";case 4:return"重复上架弹出";case 5:return"禁用物料";case 6:return"API上料";case 7:return"API取料";case 8:return"撤消料架亮灯";case 9:return"工单取料，首套";case 10:return"工单取料，全套";case 11:return"站位顺序发料";case 12:return"库位整理";default:return"物料转移上架"}},shelfFormatter:function(e){switch(e.op_code){case 1:return"上料超时";case 2:return"报警";case 3:return"取消报警";case 4:return"绑定料架";default:return"解绑料架"}},userFormatter:function(e){switch(e.op_code){case 1:return"添加用户";case 2:return"删除用户";case 3:return"修改密码";case 4:return"修改用户权限组";default:return"修改用户区域"}}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-tracesearch",{attrs:{searchholder:e.searchholder},on:{getUserActionRecord:e.getUserActionRecord}}),e._v(" "),r("div",[[r("el-radio-group",{staticStyle:{"margin-bottom":"4px"},on:{change:e.TabClick},model:{value:e.rank,callback:function(t){e.rank=t},expression:"rank"}},[r("el-radio-button",{attrs:{label:"1"}},[e._v(e._s(e.$t("user.storage_records")))]),e._v(" "),r("el-radio-button",{attrs:{label:"2"}},[e._v(e._s(e.$t("user.shelf_records")))]),e._v(" "),r("el-radio-button",{attrs:{label:"3"}},[e._v(e._s(e.$t("user.user_records")))])],1)],e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:1==this.rank,expression:"this.rank==1"}]},[r("el-table",{attrs:{"header-cell-style":{background:"#DFEBF9",color:"#606266"},data:e.warehouse_log,"empty-text":e.$t("common.nodata"),border:""}},[r("el-table-column",{attrs:{prop:"in_time",formatter:e.timeFormatter,label:e.$t("user.in_time")}}),e._v(" "),r("el-table-column",{attrs:{prop:"shelf_id",label:e.$t("materialshelf.shelf_id")}}),e._v(" "),r("el-table-column",{attrs:{prop:"position",label:e.$t("storage.position")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"label_code",label:e.$t("storage.label_code")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"steel_model",label:e.$t("storage.steel_model")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"op_code",formatter:e.storageFormatter,label:e.$t("user.op_code")}})],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2==this.rank,expression:"this.rank==2"}]},[r("el-table",{attrs:{"header-cell-style":{background:"#DFEBF9",color:"#606266"},data:e.shelf_log,border:""}},[r("el-table-column",{attrs:{prop:"in_time",formatter:e.timeFormatter,label:e.$t("user.in_time")}}),e._v(" "),r("el-table-column",{attrs:{prop:"shelf_id",label:e.$t("materialshelf.shelf_id")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"op_code",formatter:e.shelfFormatter,label:e.$t("user.op_code")}})],1)],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:3==this.rank,expression:"this.rank==3"}]},[r("el-table",{attrs:{"header-cell-style":{background:"#DFEBF9",color:"#606266"},data:e.user_log,border:""}},[r("el-table-column",{attrs:{prop:"in_time",formatter:e.timeFormatter,label:e.$t("user.in_time")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"op_code",formatter:e.userFormatter,label:e.$t("user.op_code")}}),e._v(" "),r("el-table-column",{attrs:{prop:"target_name",label:e.$t("user.target_name")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"target_comment",label:e.$t("user.target_comment")}})],1)],1)],2)],1)},staticRenderFns:[]},i=r("VU/8")(n,c,!1,null,null,null);t.default=i.exports},kxiG:function(e,t){}});
//# sourceMappingURL=24.2115bf8af130d8974ffc.js.map