webpackJsonp([6],{Pb3z:function(e,t){},SkyC:function(e,t){},WjWU:function(e,t){},Yn1f:function(e,t){},kjPd:function(e,t){},o7Ol:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"order_search"},[r("div",{staticClass:"order_item_div"},[r("span",{staticClass:"order_item_name"},[e._v(e._s(e.$t("order.file_type")))]),e._v(" "),r("div",{staticClass:"operation_select input_wrap"},[r("el-select",{attrs:{"value-key":"file_type"},model:{value:e.file_type,callback:function(t){e.file_type=t},expression:"file_type"}},e._l(e.fileTypeList,function(e){return r("el-option",{key:e.file_type,attrs:{label:e.type_name,value:e.file_type}})}),1)],1)]),e._v(" "),r("div",{staticClass:"order_item_div"},[r("span",{staticClass:"order_item_name"},[e._v(e._s(e.$t("order.order_name")))]),e._v(" "),r("el-input",{attrs:{clearable:""},model:{value:e.order_name,callback:function(t){e.order_name=t},expression:"order_name"}})],1),e._v(" "),r("div",{staticClass:"addorder"},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.orderSearch}},[e._v(e._s(e.$t("common.search")))])],1)])},staticRenderFns:[]};var n=r("VU/8")({data:function(){return{file_type:"",order_name:"",fileTypeList:[{file_type:"",type_name:"所有"},{file_type:1,type_name:"站位表"},{file_type:2,type_name:"取料表"}]}},methods:{orderCheck:function(){},orderSearch:function(){this.$emit("search",this.file_type,this.order_name)}}},o,!1,function(e){r("Yn1f")},null,null).exports,a=r("n26T"),l={data:function(){var e=this;return{editVisible:!1,orderform:{order_id:"",order_num:""},rules:{order_num:[{required:!0,message:this.$t("order.quantityhoulder"),trigger:"blur"},{validator:function(t,r,o){0==/^[0-9]*$/.test(r)?o(new Error(e.$t("order.numreg"))):o()},trigger:"blur"}]}}},mounted:function(){},methods:{open:function(e){this.orderform.order_id=e.order_id,this.orderform.order_num=e.order_num,this.editVisible=!0},reset:function(e){this.$refs.orderform.resetFields()},orderSave:function(){var e=this;Object(a.h)({order_id:this.orderform.order_id,new_qty:this.orderform.order_num}).then(function(t){t.result?(e.$emit("listenFresh"),e.editVisible=!1):e.$message({showClose:!0,message:t.msg,type:"error"})})},userCancel:function(e){this.$refs.orderform.resetFields(),this.editVisible=!1}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.$t("order.edit"),visible:e.editVisible,width:"446px"},on:{"update:visible":function(t){e.editVisible=t},close:function(t){return e.reset("orderform")}}},[r("div",{staticClass:"add_order_form"},[r("el-form",{ref:"orderform",attrs:{inline:!0,model:e.orderform,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticClass:"form_item_left",attrs:{label:e.$t("order.quantity"),prop:"order_num"}},[r("el-input",{model:{value:e.orderform.order_num,callback:function(t){e.$set(e.orderform,"order_num",t)},expression:"orderform.order_num"}})],1),r("br"),e._v(" "),r("div",{staticStyle:{"text-align":"center"}},[r("el-button",{on:{click:function(t){return e.userCancel("orderform")}}},[e._v(e._s(e.$t("common.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.orderSave("orderform")}}},[e._v(e._s(e.$t("common.save")))])],1)],1)],1)])],1)},staticRenderFns:[]};var s=r("VU/8")(l,i,!1,function(e){r("WjWU")},null,null).exports,d={components:{VLights:r("2ca6").a},data:function(){return{analyzeVisible:!1,analyzeList:[],row:""}},methods:{open:function(e){var t=this;Object(a.g)({order_id:e.order_id,op_type:e.file_type,color:3,send_type:0,file_name:e.file_name}).then(function(r){r.result?(t.row=e,t.analyzeVisible=!0,t.analyzeList=r.mate_analyze):t.$message({showClose:!0,message:r.msg,type:"error"})})},sendOrder:function(){var e=this;Object(a.g)({order_id:this.row.order_id,op_type:this.row.file_type,color:this.$store.state.color,send_type:1,file_name:this.row.file_name}).then(function(t){t.result?(e.analyzeVisible=!1,e.analyzeList=t.mate_analyze):e.$message({showClose:!0,message:t.msg,type:"error"})})}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.$t("order.mate_analyze"),visible:e.analyzeVisible,width:"760px"},on:{"update:visible":function(t){e.analyzeVisible=t},close:function(t){return e.reset("orderform")}}},[r("div",{staticClass:"analyzelights"},[r("div",{staticClass:"lightscomp"},[r("v-lights")],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.sendOrder}},[e._v(e._s(e.$t("feeder.send")))])],1),e._v(" "),r("el-table",{attrs:{data:e.analyzeList,"header-cell-style":{background:"#DFEBF9",color:"#606266"},"max-height":"300","empty-text":e.$t("common.nodata"),border:""}},[r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"master_pn",label:e.$t("order.master_pn")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"need_num_count",label:e.$t("order.need_num_count")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"total_quantity",label:e.$t("order.total_quantity")}})],1)],1)],1)},staticRenderFns:[]};var m={data:function(){return{traceVisible:!1,detailVisible:!1,traceList:[],mateList:[]}},methods:{open:function(e){var t=this;Object(a.d)({order_id:e}).then(function(e){t.traceVisible=!0,e.result?t.traceList=e.data:t.$message({showClose:!0,message:e.msg,type:"error"})})},stateFormatter:function(e){return 1==e.mate_state?"已发":2==e.mate_state?"完成":"未发"},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 1==t.mate_state?"nowmate":2==t.mate_state?"lackmate":0==t.mate_state?"beforemate":""},getDetail:function(e){this.mateList=e,this.detailVisible=!0}}},u={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-dialog",{attrs:{title:e.$t("order.ordertrace"),visible:e.traceVisible,width:"760px"},on:{"update:visible":function(t){e.traceVisible=t}}},[r("el-table",{attrs:{data:e.traceList,"header-cell-style":{background:"#DFEBF9",color:"#606266"},"max-height":"300","empty-text":e.$t("common.nodata"),"row-class-name":e.tableRowClassName,border:""}},[r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"master_pn",label:e.$t("order.master_pn")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"mate_state",label:e.$t("order.mate_state"),formatter:e.stateFormatter}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"need_num",label:e.$t("order.need_num_count")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"send_num",label:e.$t("order.send_num")}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("common.operation"),width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{disabled:!t.row.mate_state,type:"text",size:"small"},nativeOn:{click:function(r){return r.preventDefault(),e.getDetail(t.row.send_mate_list)}}},[e._v("\n            "+e._s(e.$t("order.detail"))+"\n          ")])]}}])})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:e.$t("order.send_mate"),visible:e.detailVisible,width:"760px"},on:{"update:visible":function(t){e.detailVisible=t}}},[r("el-table",{attrs:{data:e.mateList,"header-cell-style":{background:"#DFEBF9",color:"#606266"},"max-height":"300","empty-text":e.$t("common.nodata"),"row-class-name":e.tableRowClassName,border:""}},[r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"part_num",label:e.$t("storage.part_num")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"label_code",label:e.$t("storage.label_code")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"shelf_id",label:e.$t("storage.shelf_id")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"position",label:e.$t("storage.position")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"quantity",label:e.$t("storage.quantity")}})],1)],1)],1)},staticRenderFns:[]};var _={components:{VSearch:n,VEditorder:s,VAnalyze:r("VU/8")(d,c,!1,function(e){r("kjPd")},null,null).exports,VTrace:r("VU/8")(m,u,!1,function(e){r("Pb3z")},null,null).exports},data:function(){return{orderList:[],selection:[]}},mounted:function(){this.getOrderList()},methods:{getOrderList:function(e,t){var r=this;Object(a.e)({file_type:e,order_name:t}).then(function(e){e.result?r.orderList=e.data:r.$message({showClose:!0,message:e.msg,type:"error"})})},analyze:function(e){this.$refs.analyze.open(e)},editOrder:function(e){this.$refs.editorder.open(e)},orderTrace:function(e){this.$refs.ordertrace.open(e)},orderDelete:function(e){var t=this;this.$confirm(this.$t("order.orderdeletetips"),this.$t("order.tips"),{confirmButtonText:this.$t("common.sure"),cancelButtonText:this.$t("common.cancel"),type:"warning"}).then(function(){Object(a.a)({order_id:e}).then(function(e){e.result?(t.$message({showClose:!0,message:t.$t("common.deleteSuccess"),type:"success"}),t.getOrderList()):t.$message({showClose:!0,message:e.msg,type:"error"})})})}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-search",{on:{search:e.getOrderList}}),e._v(" "),r("v-editorder",{ref:"editorder",on:{listenFresh:e.getOrderList}}),e._v(" "),r("v-analyze",{ref:"analyze"},[e._v("</")]),e._v(" "),r("v-trace",{ref:"ordertrace"}),e._v(" "),r("el-table",{attrs:{data:e.orderList,"header-cell-style":{background:"#DFEBF9",color:"#606266"},"empty-text":e.$t("common.nodata"),border:""}},[r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"order_name",label:e.$t("order.order_name")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"order_num",label:e.$t("order.quantity")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"file_name",label:e.$t("order.file_name")}}),e._v(" "),r("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"show_file_type",label:e.$t("order.file_type")}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("common.operation"),width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(r){return e.analyze(t.row)}}},[e._v(e._s(e.$t("order.analyze")))]),e._v(" "),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(r){return e.orderTrace(t.row.order_id)}}},[e._v(e._s(e.$t("order.trace")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.editOrder(t.row)}}},[e._v(e._s(e.$t("common.edit")))]),e._v(" "),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.orderDelete(t.row.order_id)}}},[e._v(e._s(e.$t("common.delete")))])]}}])})],1)],1)},staticRenderFns:[]};var p=r("VU/8")(_,f,!1,function(e){r("SkyC")},null,null);t.default=p.exports}});
//# sourceMappingURL=6.92c54f7a21126c512a04.js.map